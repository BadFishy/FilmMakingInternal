# Film Making Internal

影片生成器内部版

---

### 最新正式版本号

	"Version": 2,
	"VersionName": "1.1.a",
	"EngineVersion":"4.26.0",
	"Date": "2021/10/11",
	"DocsUpdate": "2021/10/12",
	"DocsURL": "https://github.com/BadFishy/FilmMakingInternalDoc",
	"InternalSVNUrl": "https://server-2008/svn/Program-CreatEngine/Plugins/Release/FilmMakingInternal_Release_4.26"

### 程序更新日志

```
- 2021/10/11
	修复新建通用天气时的写入错误
```

### 文档更新日志

```
- 2021/10/12
	新增程序更新日志和文档更新日志
	更新版本号
```

---

## 入门

### 安装到项目工程

将`FilmMakingInternal`文件夹放置到`虚幻引擎的工程`的工程目录下的`Plugins`文件夹下即可

![image-20210930163448591](README.assets/image-20210930163448591.png)

### 确认插件已启用

打开已经安装 `FilmMakingInternal` 的项目工程，点击左上角的`编辑 - 插件`往下面翻到`项目 - CreatEngine`，即可看到本插件，确保是已启用状态。

![image-20210930164047067](README.assets/image-20210930164047067.png)

### 查看示例

如果你不想阅读本教程，想快速开始，可以直接参考插件提供的示例文件。

确保内容浏览器中的`显示插件内容`已开启，可以在内容浏览器的右下角`视图选项`中开始

![image-20210930164436490](README.assets/image-20210930164436490.png)

### 从头开始创建一个影片

让我们现在从头开始吧

#### 创建影片文件夹

我们的影片可不能直接放在项目的根目录，这会导致在导入其他资产或把我们的影片导入到其他工程时找不到哪些是我们影片自己的资产。

这里，我创建了一个名为`ToyStory`的文件夹，这是我们的片名。注意，你取文件夹名时，一定要使用英文字母，且首字母需要大写，不能包含空格，最好不要包含`_`等字符。

在`ToyStory`下，我还创建了3个文件夹，分别是：

```
ToyStory
 - Common 这是我们影片中的通用资产，比如大场景、天气、角色、道具，它可能会被多个镜头引用。
 - Episode 这是剧集，这是我们影片的镜头实际存放的目录。如果影片有很多集，那么这个文件名可以叫做 Episode1st/Episode2nd... 
 - Spawner 这是生成器，我们的重头戏，其实它只用在创建新镜头时使用~
```

![image-20210930165535884](README.assets/image-20210930165535884.png)



#### 【必要】创建影片通用生成配置

首先在我们刚刚创建的`Common`中点击右键`选择`其他 - 数据资产`

找到`FilmEpisodeSpawnConfig`，并`选择`，来创建，起名为`FESC_ToyStory`

![image-20210930165623464](README.assets/image-20210930165623464.png)

命名规范推荐是使用 `FSEC_`作为前缀，后面写你的影片名，这个是只在本影片通用的资产配置。

![image-20210930170508278](README.assets/image-20210930170508278.png)

#### 【必要】创建影片剧集

在我们刚刚创建的`Episode`中点击右键`选择`其他 - 数据资产`

找到`FilmEpisode，并`选择`，来创建，起名为`FE_ToyStory`

![image-20210930165923575](README.assets/image-20210930165923575.png)

双击点击`FE_ToyStory`，以打开其细节面板

可以对其进行配置，类似这样

*由于版本更新的原因，这个界面可能会有变化*

![image-20210930170107657](README.assets/image-20210930170107657.png)



#### 【必要】创建镜头规划数据表

在我们刚刚创建的`Spawner`中点击右键`选择`其他 - 数据表格`

找到`InputShotInfo，并`确定`，来创建，起名为`ISI_ToyStory`

![image-20210930171215088](README.assets/image-20210930171215088.png)

然后双击打开刚刚创建的`ISI_ToyStory` ，使用添加即可添加新镜头。

![image-20210930171835486](README.assets/image-20210930171835486.png)

![image-20210930171451714](README.assets/image-20210930171451714.png)

需要注意的是，行命名请保持默认。镜头序号从1开始，按顺序填不能重复的整数。

填写出来后类似于这样

![image-20210930171805472](README.assets/image-20210930171805472.png)



#### 【必要】创建镜头生成器

在我们刚刚创建的`Spawner`中点击右键`选择`其他 - 数据资产`

找到`FilmEpisodeSpawnHelper，并`选择`，来创建，起名为`FES_ToyStory`

![image-20210930170316895](README.assets/image-20210930170316895.png)

打开`FES_ToyStory`，可以看到3类配置

![image-20210930172346991](README.assets/image-20210930172346991.png)

剧集配置选择刚刚创建的`FE_`前缀的后缀名是自己影片的影片剧集资产

镜头规划数据选择`ISI_`前缀的数据表格

生成器配置，可以使用加号添加元素，第 0 项必须是本影片的通用配置。第 1 项起可以添加其他的通用配置，比如很多不同片子都能通用的场景、天气就可以预设到这个通用配置中。

``` 
生成器配置的主要作用是，使用镜头规划数据表中填写的（如场景天气道具等）名称在生成器配置中进行查找。如镜头规划数据表中，天气填写的“晴天”，那么在生成镜头时，就会从生成器配置的第0项开始，查找“晴天”对应的关卡，以加入到镜头的关卡中，如果第0项没有找到，再往后查找。如果都没找到，那么将在第0项生成器通用配置的目录下自动生成对应的关卡，后续制作者直接在对应的关卡中创作，即可自动加载到镜头中。
```


#### 【可选】从外部导入镜头规划表

目前推荐使用腾讯文档进行编辑

【腾讯文档】镜头规划表-模板：
https://docs.qq.com/sheet/DWndMVlBXWlNxSWNy

详细使用方法还待完善

#### 【必要】生成镜头

前提条件：已完成以上所有必要步骤

打开`FES_ToyStory`，点击`SpawnShotAssets`即可一键生成。

每个镜头与空场景大概需要生成1.5秒，如果引用的场景或者天气比较复杂，可能需要更长时间。

当屏幕中间有窗口在快速闪动时，则是正在生成。

生成完成后屏幕中间的弹窗消失，此时已经生成完毕。在`Episode/Shots`下，即是我们的镜头。

![image-20210930173815756](README.assets/image-20210930173815756.png)

#### 【可选】打开并开始编辑镜头

认识一下，这是镜头

打开镜头目录`Shots`下的`Shot001`/`FS_Shot001`，这个就是记录这个镜头信息的资产。要打开开始编辑这个镜头，请先双击`镜头主关卡`，打开关卡成功后，再双击`镜头主关卡序列`，这样就可以做动画了~

![image-20210930173929322](README.assets/image-20210930173929322.png)



## 待续

